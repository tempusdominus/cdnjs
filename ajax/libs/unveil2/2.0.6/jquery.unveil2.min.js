// unveil2.js - 2.0.5 - https://nabble.github.io/unveil2/
!function(a){"use strict";var b="unveil",c="src",d="placeholder",e=a(),f=!1;a.fn.unveil=function(g){function h(a){a.removeClass(b+"-"+d+" "+b+"-loading"),a.addClass(b+"-loaded")}function i(){var b=a(this);if(!b.is(":hidden")){var c=m.scrollTop(),d=c+n,e=p.container[0]!==m[0]?c-p.container.offset().top:0,f=b.offset().top+e,g=f+b.height();return g>=c-p.offset&&f<=d+p.offset}}function j(){n=m.height(),l()}function k(a){var b=!1;return function(){b||(b=!0,setTimeout(function(){a(),b=!1},p.throttle))}}function l(){p.debug;var a=e.filter(i);a.trigger(b+"."+b),e=e.not(a),a.length&&p.debug}g=g||{};var m=a(window),n=m.height(),o={placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",offset:0,breakpoints:[],throttle:250,debug:!1,container:m,retina:window.devicePixelRatio>1,loading:null,loaded:null},p=a.extend(!0,{},o,g);return p.debug,p.breakpoints.sort(function(a,b){return b.minWidth-a.minWidth}),this.one(b+"."+b,function(){var d,e,f,g,i=a(this),j=m.width(),k=c;for(d=0;d<p.breakpoints.length;d++){var n=p.breakpoints[d].attribute.replace(/^data-/,"");if(j>=p.breakpoints[d].minWidth&&i.data(n)){k=n;break}}f=g=i.data(k),f&&-1!==f.indexOf("|")&&(g=f.split("|")[1],f=f.split("|")[0]),f&&(e=p.retina&&g?g:f,p.debug,i.addClass(b+"-loading"),"function"==typeof p.loading&&p.loading.call(this),i.trigger("loading.unveil"),i.one("load",function(){h(i),"function"==typeof p.loaded&&p.loaded.call(this),i.trigger("loaded.unveil"),l()}),"IMG"===this.nodeName?i.prop(c,e):a("<img/>").attr(c,e).one("load",function(){a(this).remove(),i.css("backgroundImage","url("+e+")").trigger("load")}),this.complete&&h(i))}),this.each(function(){var f=a(this),g=f.data(c+"-"+d)||p.placeholder;e=a(e).add(this),f.data(b)||(f.data(b,!0),f.data(c)||f.data(c,f.prop(c)),f.one("load",function(){var c=a(this);c.hasClass(b+"-loaded")||(c.addClass(b+"-"+d),l())}).prop(c,"").prop(c,g))}),p.debug,f||(p.container.on({"resize.unveil":k(j),"scroll.unveil":k(l),"lookup.unveil":l}),f=!0),setTimeout(l,0),this}}(window.jQuery);