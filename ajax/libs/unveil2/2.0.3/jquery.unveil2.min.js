// unveil2.js - 2.0.3 - https://nabble.github.io/unveil2/
!function(a){"use strict";var b="unveil",c=a(),d=!1;a.fn.unveil=function(e){function f(a){return!(!a.width()&&!a.height())&&"none"!==a.css("display")}function g(a){a.addClass(b+"-loading")}function h(a){a.removeClass(b+"-placeholder "+b+"-loading"),a.addClass(b+"-loaded")}function i(){var b=a(this);if(f(b)){var c=m.scrollTop(),d=c+n,e=q.container[0]!==m[0]?c-q.container.offset().top:0,g=b.offset().top+e,h=g+b.height();return h>=c-q.offset&&g<=d+q.offset}}function j(){n=m.height(),l()}function k(a){var b=!1;return function(){b||(b=!0,setTimeout(function(){a(),b=!1},q.throttleTimeout))}}function l(){q.debug;var a=c.filter(i);a.trigger(b),c=c.not(a),a.length&&q.debug}e=e||{};var m=a(window),n=m.height(),o=window.devicePixelRatio>1,p={container:m,placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",offset:0,breakpoints:[],throttleTimeout:250,debug:!1,loading:null,loaded:null},q=a.extend(!0,{},p,e);return q.debug,q.breakpoints.sort(function(a,b){return b.minWidth-a.minWidth}),this.one(b,function(){var b,c,d,e,f=a(this),i=m.width(),j="src";for(b=0;b<q.breakpoints.length;b++){var k=q.breakpoints[b].attribute.replace(/^data-/,"");if(i>=q.breakpoints[b].minWidth&&f.data(k)){j=k;break}}d=e=f.data(j),d&&-1!==d.indexOf("|")&&(e=d.split("|")[1],d=d.split("|")[0]),d&&(c=o&&e?e:d,q.debug,g(f),"function"==typeof q.loading&&q.loading.call(this),f.one("load",function(){h(f),"function"==typeof q.loaded&&q.loaded.call(this),l()}),"IMG"===this.nodeName?f.prop("src",c):a("<img/>").attr("src",c).one("load",function(){a(this).remove(),f.css("backgroundImage","url("+c+")").trigger("load")}),this.complete&&h(f))}),this.each(function(){var d=a(this),e=d.data("src-placeholder")||q.placeholder;c=a(c).add(this),d.data(b)||(d.data(b,!0),d.data("src")||d.data("src",d.prop("src")),d.one("load",function(){a(this).addClass(b+"-placeholder"),l()}).prop("src","").prop("src",e))}),q.debug,d||(q.container.on({"resize.unveil":k(j),"scroll.unveil":k(l),"lookup.unveil":l}),d=!0),setTimeout(l,0),this}}(window.jQuery||window.Zepto);