!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd||n(e.hyperapp={})}(this,function(e){"use strict";e.h=function(e,n){for(var r,t=[],o=[],i=arguments.length;i-- >2;)t.push(arguments[i]);for(;t.length;)if(Array.isArray(r=t.pop()))for(i=r.length;i--;)t.push(r[i]);else null==r||!0===r||!1===r||o.push("number"==typeof r?r+"":r);return"string"==typeof e?{type:e,props:n||{},children:o}:e(n||{},o)},e.app=function(e,n,r,t){function o(e,n){return e&&{type:e.tagName.toLowerCase(),props:{},children:n.call(e.childNodes,function(e){return 3===e.nodeType?e.nodeValue:o(e,n)})}}function i(o){for(g=!g,o=r(e,n),t&&!g&&(m=y(t,m,b,b=o));o=N.pop();)o()}function f(){r&&!g&&(g=!g,setTimeout(i))}function p(e,n){var r={};for(var t in e)r[t]=e[t];for(var t in n)r[t]=n[t];return r}function u(e,n,r){var t={};return e.length?(t[e[0]]=1<e.length?u(e.slice(1),n,r[e[0]]):n,p(r,t)):n}function l(e,n){for(var r=0;r<e.length;r++)n=n[e[r]];return n}function c(n,r,t){for(var o in t)"function"==typeof t[o]?function(o,i){t[o]=function(o){return r=l(n,e),"function"==typeof(o=i(o))&&(o=o(r,t)),o&&o!==r&&!o.then&&f(e=u(n,p(r,o),e)),o}}(o,t[o]):c(n.concat(o),r[o]=r[o]||{},t[o]=p(t[o]))}function s(e){return e&&e.props?e.props.key:null}function a(e,n,r,t){if("key"===n);else if("style"===n)for(var o in p(t,r=r||{}))e.style[o]=null==r[o]?"":r[o];else{try{e[n]=null==r?"":r}catch(e){}"function"!=typeof r&&(null==r||!1===r?e.removeAttribute(n):e.setAttribute(n,r))}}function h(e,n){if("string"==typeof e)var r=document.createTextNode(e);else{r=(n=n||"svg"===e.type)?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type),e.props.oncreate&&N.push(function(){e.props.oncreate(r)});for(var t=0;t<e.children.length;t++)r.appendChild(h(e.children[t],n));for(var t in e.props)a(r,t,e.props[t])}return r}function d(e,n,r){if(r=n.props){for(var t=0;t<n.children.length;t++)d(e.childNodes[t],n.children[t]);r.onremove&&r.onremove(e)}return e}function v(e,n,r,t){function o(){e.removeChild(d(n,r))}r.props&&r.props.onbeforeremove&&"function"==typeof(t=r.props.onbeforeremove(n))?t(o):o()}function y(e,n,r,t,o,i){if(r===t);else if(null==r)n=e.insertBefore(h(t,o),n);else if(null!=t.type&&t.type===r.type){!function(e,n,r){for(var t in p(n,r)){var o="value"===t||"checked"===t?e[t]:n[t];r[t]!==o&&a(e,t,r[t],o)}r.onupdate&&N.push(function(){r.onupdate(e,n)})}(n,r.props,t.props),o=o||"svg"===t.type;for(var f=t.children.length,u=r.children.length,l={},c=[],d={},g=0;g<u;g++){var m=c[g]=n.childNodes[g];null!=(B=s(w=r.children[g]))&&(l[B]=[m,w])}g=0;for(var b=0;b<f;){m=c[g];var w=r.children[g],k=t.children[b];if(d[B=s(w)])g++;else{var A=s(k),x=l[A]||[];null==A?(null==B&&(y(n,m,w,k,o),b++),g++):(B===A?(y(n,x[0],x[1],k,o),g++):x[0]?(n.insertBefore(x[0],m),y(n,x[0],x[1],k,o)):y(n,m,null,k,o),b++,d[A]=k)}}for(;g<u;){var B;null==(B=s(w=r.children[g]))&&v(n,c[g],w),g++}for(var g in l){var C=(x=l[g])[1];d[C.props.key]||v(n,x[0],C)}}else n&&t!==n.nodeValue&&("string"==typeof t&&"string"==typeof r?n.nodeValue=t:(n=e.insertBefore(h(t,o),i=n),v(e,i,r)));return n}var g,m=t&&t.children[0],b=o(m,[].map),N=[];return f(c([],e=p(e),n=p(n))),n}});
//# sourceMappingURL=hyperapp.js.map